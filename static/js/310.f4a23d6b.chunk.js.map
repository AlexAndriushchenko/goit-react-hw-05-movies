{"version":3,"file":"static/js/310.f4a23d6b.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","services/Api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MovieListCSS = styled.ul`\n  display: flex;\n  flex-direction: column;\n`;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { MovieListCSS } from './MovieList.styled';\n\nexport const MovieList = props => {\n  const { movies, previousLocation } = props;\n  const location = useLocation();\n\n  return (\n    <MovieListCSS>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link\n            state={location}\n            to={\n              previousLocation.includes(`movies`)\n                ? `${movie.id}`\n                : `movies/${movie.id}`\n            }\n            key={movie.id}\n          >\n            {movie.original_title}\n          </Link>\n        </li>\n      ))}\n    </MovieListCSS>\n  );\n};\n","import styled from 'styled-components';\n\nexport const FormContainer = styled.div`\n  margin-left: 15px;\n  margin-top: 10px;\n`;\n\nexport const SearchField = styled.input`\n  width: 300px;\n`;\n\nexport const SearchBtn = styled.button`\n  margin-left: 10px;\n`;\n","import { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { apiService } from 'services/Api';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { FormContainer, SearchBtn, SearchField } from './Movies.styled';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState(null);\n  const location = useLocation();\n  const [search, setSearch] = useSearchParams();\n\n  const textSearchValue = search.get('search');\n\n  const onSubmitForm = evt => {\n    evt.preventDefault();\n    setSearch({ search: value });\n  };\n\n  useEffect(() => {\n    if (!textSearchValue) return;\n    findMovie();\n\n    async function findMovie() {\n      try {\n        const result = await apiService.searchByWord(textSearchValue);\n        setMovies(result);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [textSearchValue]);\n\n  return (\n    <FormContainer>\n      <form onSubmit={onSubmitForm}>\n        <SearchField\n          type=\"text\"\n          onChange={evt => setValue(evt.target.value)}\n          value={value}\n          placeholder=\"Enter your movie\"\n        />\n        <SearchBtn type=\"submit\">Search</SearchBtn>\n      </form>\n      {movies && (\n        <MovieList movies={movies} previousLocation={location.pathname} />\n      )}\n    </FormContainer>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nclass Api {\n  #API_KEY = '9c2993dc2441e19b5ee9fa98ee7764c5';\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #TRENDING_PATH_URL = 'trending/movie/day';\n  #SEARCH_PATH_URL = 'search/movie';\n  #GET_MOVIE_DETAILS_PATH_URL = 'movie/';\n  #GET_CREDIT_URL = '/credits';\n  #GET_REVIEWS_URL = '/reviews';\n  // #IMAGE_BASE_API_URL = `https://image.tmdb.org/t/p/w500`;\n  // #FALLBACK_IMAGE_URL = `https://i.postimg.cc/htSNfpBY/movie-card-plug.jpg`;\n\n  async getTrendingMovies() {\n    const url = `${this.#BASE_URL}${this.#TRENDING_PATH_URL}`;\n\n    try {\n      const response = await axios.get(url, {\n        params: {\n          api_key: this.#API_KEY,\n        },\n      });\n\n      return response.data.results;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async searchByWord(query) {\n    const url = `${this.#BASE_URL}${this.#SEARCH_PATH_URL}`;\n\n    try {\n      const response = await axios.get(url, {\n        params: {\n          api_key: this.#API_KEY,\n          query: query,\n          page: 1,\n        },\n      });\n      return response.data.results;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMovieDetailsById(movieId) {\n    const url = `${this.#BASE_URL}${\n      this.#GET_MOVIE_DETAILS_PATH_URL\n    }${movieId}`;\n\n    try {\n      const response = await axios.get(url, {\n        params: { api_key: this.#API_KEY },\n      });\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMovieCreditsById(movieId) {\n    const url = `${this.#BASE_URL}${\n      this.#GET_MOVIE_DETAILS_PATH_URL\n    }${movieId}${this.#GET_CREDIT_URL}`;\n\n    try {\n      const response = await axios.get(url, {\n        params: { api_key: this.#API_KEY },\n      });\n      return response.data.cast;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMovieReviewsById(movieId) {\n    const url = `${this.#BASE_URL}${\n      this.#GET_MOVIE_DETAILS_PATH_URL\n    }${movieId}${this.#GET_REVIEWS_URL}`;\n\n    try {\n      const response = await axios.get(url, {\n        params: {\n          api_key: this.#API_KEY,\n          page: 1,\n        },\n      });\n      return response.data.results;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n\nexport const apiService = new Api();\n"],"names":["MovieListCSS","styled","MovieList","props","movies","previousLocation","location","useLocation","map","movie","state","to","includes","id","original_title","FormContainer","SearchField","SearchBtn","useState","value","setValue","setMovies","useSearchParams","search","setSearch","textSearchValue","get","useEffect","apiService","result","console","log","findMovie","onSubmit","evt","preventDefault","type","onChange","target","placeholder","pathname","Api","url","this","axios","params","api_key","response","data","results","error","query","page","movieId","cast"],"sourceRoot":""}